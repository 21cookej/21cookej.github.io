<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Run Custom JS</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
        }

        /* Button styling */
        #runCustomJSButton {
            position: fixed;
            top: 40px; /* Adjust the button position slightly lower */
            left: 10px;
            z-index: 1000; /* Ensure it's on top of other content */
            background-color: #4CAF50; /* Green button */
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
        }

        #runCustomJSButton:hover {
            background-color: #45a049; /* Darker green on hover */
        }

        /* Full height iframe */
        #iframeContainer {
            width: 100%;
            height: 100%;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>

    <!-- The button to run the JavaScript -->
    <button id="runCustomJSButton">Run Custom JS</button>

    <div id="iframeContainer">
        <iframe id="contentIframe" src="https://infinite-craft.com/" title="Example Website"></iframe>
    </div>

    <script>
        const runCustomJSButton = document.getElementById('runCustomJSButton');

        // When the button is clicked, run the provided JavaScript
        runCustomJSButton.addEventListener('click', () => {
            (function(){
                let doesExists = localStorage.getItem("infinite-craft-data");
                let confirmed;
                let replace = '{"elements":[{"text":"Water","emoji":"üíß","discovered":false},{"text":"Fire","emoji":"üî•","discovered":false},{"text":"Wind","emoji":"üå¨Ô∏è","discovered":false},{"text":"Earth","emoji":"üåç","discovered":false}]}';
                if (doesExists === null) {
                    localStorage.setItem("infinite-craft-data", replace);
                }
                let initial = localStorage.getItem("infinite-craft-data");
                let array = JSON.parse(initial).elements;
                let text = prompt("What is the name of the item?");
                let emoji = prompt("What should the emoji be for the item? Hint: Press Windows + . ");
                let discovered = confirm("Should the item be a first discovery?");
                let ItemsToAdd = {
                  text: text,
                  emoji: emoji,
                  discovered: discovered
                };
                array.push(ItemsToAdd);
                let newItem = {
                    elements: array
                };
                array = JSON.stringify(newItem);
                confirmed = confirm("Are you sure? This CANNOT be easily undone!");
                if (confirmed === true) {
                    localStorage.setItem("infinite-craft-data", array);
                    alert("Reloading!");
                    window.location.reload();
                }
                console.log("DONE");
            })();
        });
    </script>

</body>
</html>
