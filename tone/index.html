<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tone Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #1f1f1f;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      flex-direction: column;
    }

    h1 {
      margin-bottom: 20px;
    }

    .container {
      text-align: center;
      padding: 20px;
      border: 2px solid #4e4e4e;
      border-radius: 10px;
      background-color: #2c2c2c;
    }

    .control {
      margin: 20px 0;
    }

    label {
      font-size: 18px;
      margin-right: 10px;
    }

    input[type="range"] {
      width: 250px;
      margin-top: 10px;
      background-color: #4e4e4e;
      border-radius: 5px;
      -webkit-appearance: none;
      appearance: none;
      height: 5px;
    }

    input[type="range"]:focus {
      outline: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      background-color: #6a6a6a;
      border-radius: 50%;
      height: 20px;
      width: 20px;
      cursor: pointer;
    }

    input[type="range"]::-moz-range-thumb {
      background-color: #6a6a6a;
      border-radius: 50%;
      height: 20px;
      width: 20px;
      cursor: pointer;
    }

    .output {
      margin-top: 20px;
    }

    select, button {
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
      background-color: #3c3c3c;
      color: white;
      border: 1px solid #5a5a5a;
      cursor: pointer;
    }

    button:hover, select:hover {
      background-color: #4e4e4e;
    }

    .button-container {
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>Tone Generator</h1>

    <div class="control">
      <label for="frequency">Frequency: </label>
      <input type="range" id="frequency" min="20" max="24000" value="440">
      <span id="freq-value">440 Hz</span>
    </div>

    <div class="control">
      <label for="waveform">Waveform: </label>
      <select id="waveform">
        <option value="sine">Sine</option>
        <option value="square">Square</option>
        <option value="triangle">Triangle</option>
        <option value="sawtooth">Sawtooth</option>
      </select>
    </div>

    <div class="button-container">
      <button id="toggle">Start</button>
    </div>

    <div class="output">
      <p>Current Frequency: <span id="current-frequency">440 Hz</span></p>
      <p>Current Waveform: <span id="current-waveform">Sine</span></p>
    </div>
  </div>

  <script>
    let audioContext = new (window.AudioContext || window.webkitAudioContext)();
    let oscillator = null;
    let isPlaying = false;

    const frequencyInput = document.getElementById("frequency");
    const waveformSelect = document.getElementById("waveform");
    const toggleButton = document.getElementById("toggle");
    const freqValueDisplay = document.getElementById("freq-value");
    const currentFreqDisplay = document.getElementById("current-frequency");
    const currentWaveformDisplay = document.getElementById("current-waveform");

    frequencyInput.addEventListener("input", updateFrequency);
    waveformSelect.addEventListener("change", updateWaveform);
    toggleButton.addEventListener("click", toggleTone);

    function updateFrequency() {
      const frequency = frequencyInput.value;
      freqValueDisplay.textContent = `${frequency} Hz`;
      if (oscillator && isPlaying) {
        oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
        currentFreqDisplay.textContent = `${frequency} Hz`;
      }
    }

    function updateWaveform() {
      const waveform = waveformSelect.value;
      if (oscillator) {
        oscillator.type = waveform;
        currentWaveformDisplay.textContent = waveform.charAt(0).toUpperCase() + waveform.slice(1);
      }
    }

    function toggleTone() {
      if (isPlaying) {
        stopTone();
      } else {
        startTone();
      }
    }

    function startTone() {
      oscillator = audioContext.createOscillator();
      oscillator.type = waveformSelect.value;
      oscillator.frequency.setValueAtTime(frequencyInput.value, audioContext.currentTime);
      oscillator.connect(audioContext.destination);
      oscillator.start();
      toggleButton.textContent = "Stop";
      isPlaying = true;
    }

    function stopTone() {
      if (oscillator) {
        oscillator.stop();
        oscillator.disconnect();
      }
      toggleButton.textContent = "Start";
      isPlaying = false;
    }
  </script>

</body>
</html>
